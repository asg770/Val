<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For You ‚ù§Ô∏è</title>
    <style>
        :root {
            --pink: #ff4d6d;
            --green: #4caf50;
            --bg: #fff0f3;
        }

        body {
            background-color: var(--bg);
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
            user-select: none;
        }

        /* --- Question Section --- */
        #main-content { z-index: 100; text-align: center; transition: opacity 0.5s; }
        h1 { color: var(--pink); font-size: 2.5rem; margin-bottom: 40px; text-shadow: 2px 2px white; }

        .btn-container {
            display: flex;
            justify-content: center;
            gap: 40px;
            width: 100%;
        }

        .btn {
            padding: 15px 0;
            width: 150px;
            font-size: 1.5rem;
            font-weight: bold;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.1s, background-color 0.2s;
        }

        .btn:active { transform: scale(0.95); }

        .style-yes { background-color: var(--green); color: white; }
        .style-no { background-color: var(--pink); color: white; }

        /* --- Success Message --- */
        #success-msg {
            display: none;
            text-align: center;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px 50px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(255, 77, 109, 0.3);
            border: 2px solid var(--pink);
        }

        /* --- Collage Photos --- */
        .collage-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 5;
        }

        .collage-container img {
            position: absolute;
            width: 150px;
            height: 150px;
            object-fit: cover;
            border: 5px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            top: -300px; /* Start hidden above screen */
            border-radius: 10px;
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            opacity: 0;
            pointer-events: auto;
            cursor: pointer;
            background-color: #eee;
        }
        
        .collage-container img:hover { transform: scale(1.1); z-index: 500 !important; }
        
        #heartCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; }
    </style>
</head>
<body>

    <canvas id="heartCanvas"></canvas>

    <div id="main-content">
        <h1>Will you be my Valentine? ‚ù§Ô∏è</h1>
        <div class="btn-container">
            <button id="btn-left" class="btn style-yes" onclick="handleClick('left')">YES!</button>
            <button id="btn-right" class="btn style-no" onclick="handleClick('right')">No</button>
        </div>
    </div>

    <div id="success-msg">
        <h1 style="color: var(--pink); margin: 0;">üåπ It's a Date! üåπ</h1>
        <p style="color: #555; font-size: 1.2rem;">(I knew you'd say yes! üòâ)</p>
    </div>

    <div class="collage-container" id="photoGallery">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=1" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=2" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=3" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=4" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=5" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=6" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=7" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=8" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=9" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=10" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=11" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=12" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=13" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=14" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=15" onclick="bringToFront(this)">
        <img src="https://via.placeholder.com/150/ffb3c1/ffffff?text=16" onclick="bringToFront(this)">
    </div>

    <script>
        // --- PASSWORD PROTECTION START ---
        const secretPassword = "123"; // CHANGE THIS TO YOUR PASSWORD
        
        let userGuess = prompt("Please enter the password to view this page:");
        
        if (userGuess !== secretPassword) {
            document.body.innerHTML = "<div style='text-align:center; margin-top:50px;'><h1>üîí Access Denied</h1><p>Wrong password. Refresh the page to try again.</p></div>";
            throw new Error("Wrong password"); // Stops the rest of the script from running
        }
        // --- PASSWORD PROTECTION END ---


        let winningSide = 'left'; // Keeps track of which side is "YES"
        let zIndexCounter = 100;

        function handleClick(clickedSide) {
            if (clickedSide === winningSide) {
                // They clicked the YES button
                win();
            } else {
                // They clicked the NO button
                swap();
            }
        }

        function swap() {
            const leftBtn = document.getElementById('btn-left');
            const rightBtn = document.getElementById('btn-right');

            if (winningSide === 'left') {
                // Switch winning side to RIGHT
                winningSide = 'right';
                
                leftBtn.innerText = "No"; 
                leftBtn.className = "btn style-no";
                
                rightBtn.innerText = "YES!"; 
                rightBtn.className = "btn style-yes";
            } else {
                // Switch winning side to LEFT
                winningSide = 'left';
                
                leftBtn.innerText = "YES!"; 
                leftBtn.className = "btn style-yes";
                
                rightBtn.innerText = "No"; 
                rightBtn.className = "btn style-no";
            }
        }

        function win() {
            document.getElementById('main-content').style.display = 'none';
            document.getElementById('success-msg').style.display = 'block';
            dropPhotos();
        }

        function dropPhotos() {
            const images = document.querySelectorAll('.collage-container img');
            const cols = 5; // We use 5 columns for 16 photos
            const rows = Math.ceil(images.length / cols);
            const cellW = window.innerWidth / cols;
            const cellH = window.innerHeight / rows;

            images.forEach((img, index) => {
                setTimeout(() => {
                    const col = index % cols;
                    const row = Math.floor(index / cols);

                    // Random placement within grid cell
                    const x = (col * cellW) + (Math.random() * (cellW - 160));
                    const y = (row * cellH) + (Math.random() * (cellH - 160));
                    const rot = Math.random() * 40 - 20;

                    img.style.opacity = "1";
                    img.style.left = x + "px";
                    img.style.top = y + "px";
                    img.style.transform = `rotate(${rot}deg)`;
                }, index * 100);
            });
        }

        function bringToFront(img) {
            zIndexCounter++;
            img.style.zIndex = zIndexCounter;
        }

        // Background Hearts
        const canvas = document.getElementById('heartCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let hearts = [];
        function createHeart() { return { x: Math.random() * canvas.width, y: canvas.height + 20, size: Math.random() * 15 + 10, speed: Math.random() * 1.5 + 0.5 }; }
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "rgba(255, 77, 109, 0.3)";
            hearts.forEach((h, i) => {
                h.y -= h.speed;
                ctx.font = h.size + "px Arial";
                ctx.fillText("‚ù§Ô∏è", h.x, h.y);
                if (h.y < -30) hearts[i] = createHeart();
            });
            requestAnimationFrame(draw);
        }
        for(let i=0; i<30; i++) hearts.push(createHeart());
        draw();
    </script>
</body>
</html>